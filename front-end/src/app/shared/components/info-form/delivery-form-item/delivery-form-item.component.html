<form [formGroup]="infoForm">
  <div class="delivery">
    <div class="delivery__title">Способи доставки</div>
    <div class="delivery__options">
      <div class="delivery__options-checkbox">
        <label for="novaposhta">
          <input
            type="radio"
            name="deliveryMethod"
            id="novaposhta"
            formControlName="deliveryMethod"
            value="Нова пошта"
          />
          <span class="checkbox__custom"></span>
          <span class="logo-company">logo</span>
          <span class="text-company">Нова Пошта</span>
        </label>
        <div
          class="delivery__options-select"
          [ngClass]="isValid(infoForm, 'department')"
        >
          <input
            #city
            type="text"
            class="input-select"
            (keyup)="onGetDepartment(city.value)"
            formControlName="novaPoshtaAddress"
            placeholder="Оберіть відділення"
            (blur)="onblur()"
            (focus)="isDepartment = true"
          />
          <div class="icon" (click)="isDepartment = !isDepartment">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="11"
              height="7"
              viewBox="0 0 11 7"
              fill="none"
            >
              <path
                d="M5 6.49999C4.93442 6.50079 4.86941 6.48786 4.80913 6.46202C4.74885 6.43619 4.69465 6.39803 4.65 6.34999L0.15 1.84999C-0.05 1.64999 -0.05 1.33999 0.15 1.13999C0.35 0.93999 0.66 0.93999 0.86 1.13999L5.01 5.28999L9.15 1.14999C9.35 0.94999 9.66 0.94999 9.86 1.14999C10.06 1.34999 10.06 1.65999 9.86 1.85999L5.36 6.35999C5.26 6.45999 5.13 6.50999 5.01 6.50999L5 6.49999Z"
                fill="#6A6A6A"
              />
            </svg>
            <app-error-validation
              [control]="infoForm.get('department')"
            ></app-error-validation>
          </div>
          <div
            class="department__list"
            *ngIf="departments?.length && isDepartment"
          >
            <ul class="department__list-items">
              <li
                class="department__list-item"
                *ngFor="let department of departments"
                (click)="chosenDepartment(department)"
              >
                {{ department.city }} {{ department.description }}
              </li>
            </ul>
          </div>
        </div>
        <div class="delivery__options-btn">
          <span>Заберіть посилку у найближчому відділенні Нової Пошти</span>
        </div>
      </div>
      <div class="delivery__options-checkbox">
        <label for="uapost">
          <input
            type="radio"
            name="deliveryMethod"
            id="uapost"
            formControlName="deliveryMethod"
            value="Укрпошта"
          />
          <span class="checkbox__custom"></span>
          <span class="logo-company">logo</span>
          <span class="text-company">УкрПошта</span>
        </label>
      </div>
      <div class="delivery__options-checkbox">
        <label for="onmyown">
          <input
            type="radio"
            name="deliveryMethod"
            id="onmyown"
            formControlName="deliveryMethod"
            value="Самовивіз"
          />
          <span class="checkbox__custom"></span>
          <span class="logo-company">logo</span>
          <span class="text-company">Самовивіз</span>
        </label>
      </div>
      <div class="delivery__options-checkbox">
        <label for="postman">
          <input
            type="radio"
            name="deliveryMethod"
            id="postman"
            formControlName="deliveryMethod"
            value="Кур'єрська доставка"
          />
          <span class="checkbox__custom"></span>
          <span class="logo-company">logo</span>
          <span class="text-company">Кур’єрська доставка</span>
        </label>
        <app-error-validation
          [control]="infoForm.get('deliveryMethod')"
        ></app-error-validation>
      </div>
    </div>
  </div>
</form>
